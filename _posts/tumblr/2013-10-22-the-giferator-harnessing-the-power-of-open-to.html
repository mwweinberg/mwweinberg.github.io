---
layout: post
title: 'The GIFerator: Harnessing the Power of Open to Make Animated GIFs'
date: '2013-10-22T00:00:00-04:00'
tags:
- pk
- opensourcehardware
permalink: post/108003730570/the-giferator-harnessing-the-power-of-open-to
---
<hr><p><img border="0" src="http://www.publicknowledge.org/files/images/Gifintro.gif" width="270"/></p>
<p><span class="Apple-converted-space"></span>Last week at our annual IP3 Awards, we debuted a new addition to the Public Knowledge family: the GIFerator.  Basically, it was a photobooth that let attendees<span class="Apple-converted-space"> </span><a href="http://publicknowledge.tumblr.com/" target="_blank">make their own animated GIFs and publish them to the internet</a>.  We designed the GIFerator with openness in mind and on top of open technologies, so this blog post is intended to share our process and document it well enough for you to set up your own.<span class="Apple-converted-space"> </span><br/><br/><strong>Overview</strong><br/><br/>At its heart, the GIFerator is fairly straightforward.  We needed a way to capture pictures, stich them together into animated GIFs, and then publish them on the internet.  We also needed an interface that was easy to use, explained the process to people, and was robust enough to keep working unattended through an event with an open bar.   This allowed people to walk up to the GIFerator, mash a few buttons, and<span class="Apple-converted-space"> </span><a href="http://publicknowledge.tumblr.com/" target="_blank">publish their GIF to the internet</a>.<br/><br/><strong>Bill of Materials</strong><br/><br/>1 computer with a webcam and internet connection (it does not need to be a new one – we used the oldest iMac in our office and it worked great)<br/><br/>1 USB keyboard<br/><br/>1 Box (<a href="https://github.com/PublicKnowledgeDC/GIFerator/blob/master/PKBOX%20top.pdf" target="_blank">here is our design</a>)<br/><br/>4 Buttons (we used<span class="Apple-converted-space"> </span><a href="https://www.sparkfun.com/products/9336" target="_blank">these</a><span class="Apple-converted-space"> </span>concave arcade-style buttons from Sparkfun because they were fun to mash and only cost $1.95 each, but pretty much anything should work)<br/><br/>Wire and Solder<br/><br/><a href="https://github.com/PublicKnowledgeDC/GIFerator/blob/master/giferator.xpi" target="_blank">Firefox plugin</a><br/><br/><strong>The Software</strong><br/><br/>The genesis of this project can be found at<span class="Apple-converted-space"> </span><a href="http://eyebeam.org/" target="_blank">Eyebeam</a>.  We were up in NYC to meet with Eyebeam in preparation for our<span class="Apple-converted-space"> </span><a href="http://www.publicknowledge.org/blog/announcing-our-new-artist-residence" target="_blank">artist in residency program</a>.  Eyebeam happened to be running a show called<span class="Apple-converted-space"> </span><a href="http://openart.eyebeam.org/" target="_blank">Open(Art)</a><span class="Apple-converted-space"> </span>they had put together with Mozilla.  One of the projects on display was a demonstration of<span class="Apple-converted-space"> </span><a href="http://meemoo.org/" target="_blank">Meemoo</a>, an application built by<span class="Apple-converted-space"> </span><a href="http://www.forresto.com/" target="_blank">Forrest Oliphant</a><span class="Apple-converted-space"> </span>that created stop motion animation gifs.  With the IP3 awards coming up, we thought that we might be able to integrate it into the event.<br/><br/>Meemo is an HTML5 data programming environment that does not require programming expertise.  Instead, it is a graphical environment where each action is represented by a box.  These boxes are connected by “wires” that let information flow between them.<br/><br/>Building off the<span class="Apple-converted-space"> </span><a href="http://meemoo.org/iframework/#example/cam2gif" target="_blank">existing webcam to animated GIF demo</a><span class="Apple-converted-space"> </span>we started to put together our project.  I encourage you to play around with it on your own, but you can find our final version<span class="Apple-converted-space"> </span><a href="https://gist.github.com/anonymous/6903887" target="_blank">here</a>.<br/><br/>One of the many advantages of Meemoo was that it allowed us to trigger events with the press of a key on a keyboard.  Once we had mapped keys to specific events (such as take picture and make GIF), it was time to build the controller.<br/><br/><strong>The Controller (electronics)</strong><br/><br/>The demo at Eyebeam was controlled by a<span class="Apple-converted-space"> </span><a href="http://makeymakey.com/" target="_blank">MaKey MaKey board</a>.  MaKey MaKeys essentially allow you to turn anything (like, say,<span class="Apple-converted-space"> </span><a href="http://www.youtube.com/watch?v=xvmTav3SYsc" target="_blank">a bunch of vegetables</a>) into an input device.  We were about to get our own MaKey MaKey but realized that – as cool as it was – it was a bit too cool for what we wanted to do.  All we really needed to do was type four letters.<br/><br/>That’s where the USB keyboard idea came in.  It turns out that USB keyboards are<span class="Apple-converted-space"> </span><a href="http://www.instructables.com/id/Hacking-a-USB-Keyboard/" target="_blank">quite hackable</a>.  Plus we had another one hanging around the office.  Once you take them apart you are left with some simple elements – a membrane under the keys and a board that connects the membrane to the USB cable. <span class="Apple-converted-space"> </span><br/><br/>For these purposes all we needed was that board.  Keyboards are basically matrices – there are two banks of connectors and pressing a key connects one pin from one matrix to one pin from the other matrix.  The combination of the two pins is mapped to an input like the letter “g” or the right arrow.<br/><br/>So the first step was to take apart the USB keyboard and pull out the controller board.  The second step was to try and map the matrix.  This sounds a lot sexier than it was.  In order to map the matrix we plugged the board into a computer and brought up a text editor.  We then just took a wire and connected one pin from one matrix to one pin to another, working our way through until we had identified at least four combinations that would reliably give us letters:<br/><img border="0" src="/images/2013-10-22-the-giferator-harnessing-the-power-of-open-to.html1.jpg" width="500"/><br/>With the pins identified, we soldered wires onto the pins and connected them to the pushbuttons.  Pushing the buttons now caused the computer to recognize the key that corresponded to the pin combination.<br/><br/><img border="0" src="/images/2013-10-22-the-giferator-harnessing-the-power-of-open-to.html2.jpg" width="300"/><span class="Apple-converted-space"> </span><br/><img border="0" src="/images/2013-10-22-the-giferator-harnessing-the-power-of-open-to.html3.jpg" width="500"/><span class="Apple-converted-space"> </span><br/>With the wiring done, we now had a neat way to trigger all of the events to make the animated GIF.  But we couldn’t just leave the buttons lying around in a jumble.  They needed a home.<br/><br/><strong>The Controller  (enclosure)</strong><br/><br/>We could have pretty much used anything to hold the buttons.  A shoebox with holes drilled in the top would have worked fine. But we decided to go for it with a custom designed laser cut box. <span class="Apple-converted-space"> </span><br/><br/>In addition to looking cool (a not insignificant factor), the laser cut box would allow us to include instructions right on the box.  This was important because we wanted people to be able to use the GIFerator without a PK staffer having to man it all night.<br/><br/>We used<span class="Apple-converted-space"> </span><a href="http://boxmaker.rahulbotics.com/" target="_blank">this site</a><span class="Apple-converted-space"> </span>to create the box and then PK’s own<span class="Apple-converted-space"> </span><a href="https://twitter.com/Clari_Ramon" target="_blank">Clarissa Ramon</a><span class="Apple-converted-space"> </span>added the holes for the buttons, the instructions, a PK logo, and an<span class="Apple-converted-space"> </span><a href="http://oshwlogo.com/" target="_blank">Open Source Hardware logo</a><span class="Apple-converted-space"> </span>in illustrator (<a href="http://inkscape.org/" target="_blank">inkscape</a>would have worked too). <span class="Apple-converted-space"> </span><br/><br/>With our design mostly done, all we needed to find was a laser cutter.<br/><br/>Fortunately, the fantastic<span class="Apple-converted-space"> </span><a href="http://www.fablabdc.org/" target="_blank">Fab Lab DC</a><span class="Apple-converted-space"> </span>has a laser cutter.  Fab Lab impresariess Phyllis Klein helped us refine the design so it would cut well.<br/><br/><img border="0" src="/images/2013-10-22-the-giferator-harnessing-the-power-of-open-to.html4.jpg" width="500"/><br/>And then it was time to cut.<br/><br/><img border="0" src="/images/2013-10-22-the-giferator-harnessing-the-power-of-open-to.html5.jpg" width="500"/><span class="Apple-converted-space"> </span><br/>And put it together</p>
<p><br/><img border="0" src="/images/2013-10-22-the-giferator-harnessing-the-power-of-open-to.html6.jpg" width="500"/></p>
<p>Once Phyllis’ husband Alex helped us join the box pieces together, the last step was to screw in the buttons and connect everything together.<br/><br/><img border="0" src="/images/2013-10-22-the-giferator-harnessing-the-power-of-open-to.html7.jpg" width="500"/><br/><br/><img border="0" src="/images/2013-10-22-the-giferator-harnessing-the-power-of-open-to.html8.jpg" width="500"/><span class="Apple-converted-space"> </span><br/><strong>Controller Plus Software</strong><br/><br/>The next step was to make sure that the keys on the box matched the keys Meemoo was looking for.  That was easy - when setting the input for a specific action we just pushed the right button on the controller.  But then things got a bit more complicated.  <span class="Apple-converted-space"> </span><br/><br/>While Meemoo made it incredibly easy to create the GIF, it is not yet easy to save the GIF.  Without that, every GIF would disappear every time we reset the page. <span class="Apple-converted-space"> </span><br/><br/>Fortunately, PK’s Charles Duan tapped the same programming skills<span class="Apple-converted-space"> </span><a href="http://www.techdirt.com/articles/20130924/13500824642/amicus-brief-public-knowledge-distills-ultramercials-complex-patent-to-16-lines-code.shtml" target="_blank">he used to explain to the Supreme Court why seemingly complicated patents are really quite simple</a><span class="Apple-converted-space"> </span>to write a<span class="Apple-converted-space"> </span><a href="https://github.com/PublicKnowledgeDC/GIFerator/blob/master/giferator.xpi" target="_blank">custom Firefox plugin</a><span class="Apple-converted-space"> </span>that saves the GIF locally.<br/><br/>At that point, we had a controller that did four things – started a new GIF, added frames to the GIF, animated the GIF, and sent the GIF to the internet.<br/><br/>But wait.  Charles’ plugin just saves the GIF locally.  How does it get onto the internet?<br/><br/><strong>Getting the GIF Online</strong><br/><br/><a href="http://labs.ideo.com/2012/12/14/happy-25th-birthday-gif/" target="_blank">This walkthough</a><span class="Apple-converted-space"> </span>from IDEO helped us figure out the final step.  We used an<span class="Apple-converted-space"> </span><a href="https://ifttt.com/recipes/124122" target="_blank">IFTTT recipe</a><span class="Apple-converted-space"> </span>to monitor the local save folder (synced with a public dropbox folder) and upload any GIFs it found to our<span class="Apple-converted-space"> </span><a href="http://publicknowledge.tumblr.com/" target="_blank">tumblr page</a>.<br/><br/><strong>That’s It</strong><br/><br/>The GIFerator actually worked at the IP3s and was a big success.  We’re planning on setting it up at the entrance to PK’s office, and maybe take it on the road a bit more.  As you can see, once we figured it out it was pretty easy to put together.  So come on by and try it out.  And go build your own.  Improve upon our design.  If you do, send us a picture of it set up and working!</p>
